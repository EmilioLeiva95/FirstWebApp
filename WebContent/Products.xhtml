<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<style type="text/css">
.ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
	text-align: center;
	color: white;
}

.ui-widget-content {
	border: none;
}

.roundButton {
	border-radius: 15px;
	margin-top: 4%;
}
</style>
	<!-- Header del bloque Usuarios -->
	<p:panelGrid columns="3" layout="grid">
		<p:commandButton value="Agregar" type="button" class="roundButton"
			onclick="PF('productDialog').show()" title="Agregar producto"
			update=":dialogSave">
		</p:commandButton>
		<h1>PRODUCTOS</h1>
		<h:form>
			<p:panelGrid columns="2" layout="grid" style="margin-top:30px;"
				columnClasses="ui-g-12 ui-md-6 ui-lg-4, ui-g-12 ui-md-6 ui-lg-4, ui-g-12 ui-md-6 ui-lg-4, ui-g-12 ui-md-6 ui-lg-4">

				<p:inputText placeholder="Search" value="#{productos.search}" />
				<p:commandButton value="Buscar" type="button"
					actionListener="#{productos.onSearch}"	 title="Buscar producto" update="formTableProduct">
				</p:commandButton>
			</p:panelGrid>
		</h:form>
	</p:panelGrid>

	<!-- Tabla de datos de Productos -->
	<h:form id="formTableProduct" style="padding:0.5%;">
		<p:dataTable var="product" value="#{productos.listProducts}">
			<p:column headerText="ID" style="width:20px">
				<h:outputText value="#{product.id_producto}" />
			</p:column>
			<p:column headerText="Descripción" style="width:250px">
				<h:outputText value="#{product.descripcion}" />
			</p:column>
			<p:column headerText="Precio" style="width:100px;">
				<h:outputText value="#{product.precio}" />
			</p:column>
			<p:column headerText="Existencia"
				style="width:80px;text-align: center">
				<h:outputText value="#{product.existencia}" />
			</p:column>
			<p:column headerText="Código" style="width:100px;text-align: center">
				<h:outputText value="#{product.codigo_barras}" />
			</p:column>
			<p:column headerText="Fabricante" style="width:200px">
				<h:outputText value="#{product.fabricante}" />
			</p:column>
			<p:column headerText="Fecha Creación"
				style="width:100px;text-align: center">
				<h:outputText value="#{product.fec_ing}" />
			</p:column>
			<p:column headerText="Estado" style="width:80px;text-align: center">
				<h:outputText value="#{product.estado}" />
			</p:column>
			<p:column style="width:100px;text-align: center">
				<p:commandButton
					actionListener="#{productos.getItemProduct(product.id_producto)}"
					oncomplete="PF('prodDialogUpdate').show()" title="View"
					update=":dialogFormUpdate" value="Editar">
				</p:commandButton>
			</p:column>
		</p:dataTable>
	</h:form>

	<h:form>
		<p:dialog header="Información de Producto" widgetVar="productDialog"
			height="350" width="450" focus="name" resizable="false">
			<p:outputPanel id="dialogSave" style="text-align:center;">
				<p:panelGrid columns="2" layout="grid"
					columnClasses="ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3">

					<h:outputLabel value="Descripción" />
					<p:inputText id="name" value="#{productos.prodSave.descripcion}"
						required="true" />

					<h:outputLabel value="Precio" />
					<p:inputText value="#{productos.prodSave.precio}" required="true" />

					<h:outputLabel value="Código de barras" />
					<p:inputText value="#{productos.prodSave.codigo_barras}"
						required="true" />

					<h:outputLabel value="Fabricante" />
					<p:inputText value="#{productos.prodSave.fabricante}"
						required="true" />

					<h:outputLabel value="Estado" />
					<p:inputText value="#{productos.prodSave.estado}" required="true" />

					<h:outputLabel value="Existencia" />
					<p:inputText value="#{productos.prodSave.existencia}"
						required="true" />


					<p:commandButton title="View" value="Guardar"
						style="margin-top:20px;" action="#{productos.saveProduct}"
						oncomplete="PF('productDialog').hide();"
						update=":formTableProduct">
					</p:commandButton>
				</p:panelGrid>
			</p:outputPanel>
		</p:dialog>
	</h:form>


	<p:dialog header="Información de producto" widgetVar="prodDialogUpdate"
		height="350" width="450" resizable="false">
		<p:outputPanel id="dialogFormUpdate" style="text-align:center;">
			<h:form>
				<p:panelGrid columns="2" layout="grid"
					columnClasses="ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3">

					<h:outputLabel value="Descripción" />
					<p:inputText id="name" value="#{productos.prodUpdate.descripcion}"
						required="true" />

					<h:outputLabel value="Precio" />
					<p:inputText value="#{productos.prodUpdate.precio}" required="true" />

					<h:outputLabel value="Código de barras" />
					<p:inputText value="#{productos.prodUpdate.codigo_barras}"
						required="true" />

					<h:outputLabel value="Fabricante" />
					<p:inputText value="#{productos.prodUpdate.fabricante}"
						required="true" />

					<h:outputLabel value="Estado" />
					<p:inputText value="#{productos.prodUpdate.estado}" required="true" />

					<h:outputLabel value="Existencia" />
					<p:inputText value="#{productos.prodUpdate.existencia}"
						required="true" />

					<p:commandButton title="View" value="Actualizar"
						style="margin-left:50px;margin-top:20px;"
						action="#{productos.updateProduct(productos.prodUpdate.id_producto)}"
						oncomplete="PF('prodDialogUpdate').hide();"
						update=":formTableProduct">
					</p:commandButton>

					<p:commandButton title="View" value="Eliminar"
						style="margin-left:100px;margin-top:20px;"
						action="#{productos.deleteProduct(productos.prodUpdate.id_producto)}"
						oncomplete="PF('prodDialogUpdate').hide();"
						update=":formTableProduct">
					</p:commandButton>
				</p:panelGrid>
			</h:form>
		</p:outputPanel>
	</p:dialog>
</ui:composition>

















